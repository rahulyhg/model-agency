"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var MilidayScroller=function(){function e(t){_classCallCheck(this,e),this.place=document.querySelector(t.place),this.stepDelay=t.stepDelay?t.stepDelay:5,this.scrollStep=t.scrollStep?t.scrollStep:5,this.trackWidth=t.trackWidth?t.trackWidth:15,this.sliderWidth=t.sliderWidth?t.trackWidth:15,this.trackClass=t.trackClass?t.trackClass:"miliday-scroll-track",this.sliderClass=t.sliderClass?t.sliderClass:"miliday-scroll-slider",this.track=null,this.slider=null,this.init()}return _createClass(e,[{key:"init",value:function(){this.buildTrack(),this.handler()}},{key:"handler",value:function(){var e=this,i=this.controlDistributor.bind(this);this.place.addEventListener?"onwheel"in document?this.place.addEventListener("wheel",i):"onmousewheel"in document?this.place.addEventListener("mousewheel",i):this.place.addEventListener("MozMousePixelScroll",i):this.place.attachEvent("onmousewheel",i),this.slider.addEventListener("mousedown",function(t){e.controlDistributor.startPos=t.screenY,window.addEventListener("mousemove",i),window.addEventListener("mouseup",function(t){window.removeEventListener("mousemove",i)})})}},{key:"controlDistributor",value:function(t){var e=this;"mousemove"===(t=t||window.event).type&&(this.positionY(this.slider,t.screenY-this.controlDistributor.startPos),console.log(""),console.log(t.screenY),console.log(this.controlDistributor.startPos),console.log(t.screenY-this.controlDistributor.startPos),console.log("")),"wheel"===t.type&&this.smoothing(t.deltaY,function(){e.scrollY(e.place,e.scrollStep*(t.deltaY/100)),e.positionY(e.track,e.place.scrollTop),e.positionY(e.slider,e.place.scrollTop*(e.place.clientHeight/e.place.scrollHeight))},this.scrollStep,this.stepDelay),t.preventDefault?t.preventDefault():t.returnValue=!1}},{key:"buildTrack",value:function(){var t=window.getComputedStyle(this.place);"static"===t.position&&(this.place.style.position="relative"),this.place.style.overflow="hidden",this.place.style.paddingRight=parseInt(t.paddingRight)+this.trackWidth+"px",this.slider=document.createElement("div"),this.slider.classList.add(this.sliderClass),this.slider.style.height=this.place.clientHeight*(this.place.clientHeight/this.place.scrollHeight)+"px",this.slider.style.width=this.sliderWidth+"px",this.slider.style.position="absolute",this.slider.style.top="0px",this.slider.style.right="0px",this.slider.style.transform="translate3d(0,"+this.place.scrollTop*(this.place.clientHeight/this.place.scrollHeight)+"px, 0)",this.track=document.createElement("div"),this.track.classList.add(this.trackClass),this.track.style.height=this.place.clientHeight+"px",this.track.style.width=this.trackWidth+"px",this.track.style.position="absolute",this.track.style.top="0px",this.track.style.right="0px",this.track.style.transform="translate3d(0,"+this.place.scrollTop+"px, 0)",this.track.appendChild(this.slider),this.place.appendChild(this.track)}},{key:"positionY",value:function(t,e){t.style.transform="translate3d(0,"+e+"px, 0)"}},{key:"scrollY",value:function(t,e){t.scrollTop+=e}},{key:"smoothing",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=Math.abs(t),a=setInterval(function(){l<=0?clearInterval(a):(l-=i,e())},s)}}]),e}(),ActiveInHover=function t(e){var i=this;_classCallCheck(this,t),this.items=$(e.items),this.item=this.items.find($(e.item)),this.activeClass=e.activeClass,this.saveActive=this.items.find($("."+this.activeClass)),this.item.on("mouseenter",function(t){$(t.currentTarget).addClass(i.activeClass).siblings().removeClass(i.activeClass)}),this.item.on("click",function(t){i.saveActive=$(t.currentTarget)}),this.items.on("mouseleave",function(t){i.saveActive.addClass(i.activeClass).siblings().removeClass(i.activeClass)})},AnimFeatures=function(){function e(t){_classCallCheck(this,e),this.parrent=$(t.parrent),this.itemTitle=this.parrent.find($(t.itemTitle)),this.lineTitle=this.parrent.find($(t.lineTitle)),this.itemValue=this.parrent.find($(t.itemValue)),this.breakPoints=t.breakPoints,this.init()}return _createClass(e,[{key:"init",value:function(){this.update(),this.handler()}},{key:"handler",value:function(){var s=this;$(window).on("resize",function(t){for(var e=$(window).width(),i=0;i<s.breakPoints.length;i++)e<=s.breakPoints[i]&&s.update()})}},{key:"update",value:function(){console.log("update");for(var t=0;t<this.itemTitle.length;t++){var e=this.itemTitle.eq(t).width(),i=this.itemValue.eq(t).width();this.lineTitle.eq(t).width(e+.4*i+"px")}}}]),e}(),PrevUploadImg=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};_classCallCheck(this,i),this.parent=$(t.parent),this.input=this.parent.find($(t.input)),this.preview=this.parent.find($(t.preview)),this.extensions=t.extensions,this.maxSize=t.maxSize,this.callBack=e,this.init()}return _createClass(i,[{key:"init",value:function(){this.handler()}},{key:"handler",value:function(){var a=this;this.input.on("change",function(t){var e=t.target.value,i=e.substring(e.lastIndexOf(".")+1).toLowerCase(),s=(t.target.files[0].size/1e6).toFixed(3);if(t.target.files&&t.target.files[0])if(-1!=a.extensions.indexOf(i))if(s<a.maxSize){var l=new FileReader;l.onload=function(t){a.render(t.target.result),a.callBack()},l.readAsDataURL(t.target.files[0])}else alert("max-size: "+a.maxSize+" mb");else alert("extensions only: "+a.extensions)})}},{key:"render",value:function(t){this.preview.attr("href",t),this.preview.attr("style","background-image: url('"+t+"'")}}]),i}(),ToggleTrigger=function t(e){var i=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};_classCallCheck(this,t),this.items=$(e.items),this.item=this.items.find($(e.item)),this.activeClass=e.activeClass,this.item.on("click",function(t){$(t.currentTarget).removeClass(i.activeClass).siblings().addClass(i.activeClass),s()})};